- name: ansible-playbook
  hosts: ec2
  become: true
  tasks:
  - name: Ensure apache is at the latest version
    ansible.builtin.yum:
      name: httpd
      state: latest

  - name: Compilateur et make
    ansible.builtin.yum:
      - name:
          - gcc-c++
          - make
        state: present

  - name: Installer node et npm
    ansible.builtin.yum:
      name: nodejs
      state: present
      enablerepo: epel

  - name: Installer Gatsby
    ansible.builtin.npm:
      name: gatsby-cli
      global: yes